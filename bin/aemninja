#!/usr/bin/env ruby

require 'aemninja'

ARGV << '--help' if ARGV.empty?

command = ARGV.shift

if command == "deploy" then
  environment = ARGV.shift || 'local'
  Aemninja::Commands.deploy!(environment)

elsif command == "new" then
  Aemninja::Helpers.usage if ARGV.empty?

  APP_PATH = ARGV.shift
  Aemninja::Commands.new!(APP_PATH)

elsif command == "author" then
  Aemninja::Commands.author

elsif command == "publish" then
  Aemninja::Commands.publish

elsif command == "all" then
  Aemninja::Commands.all

else
  Aemninja::Helpers.usage
end


